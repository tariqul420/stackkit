---
title: Environment Variables
description: Managing environment variables in StackKit projects
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

# Environment Variables

Learn how to manage environment variables in your StackKit projects.

## Environment Files

StackKit projects use different environment files based on your framework:

<Tabs items={['Next.js', 'Express', 'React + Vite']}>
  <Tab value="Next.js">
    ```bash
    .env.local          # Local development (never commit)
    .env.development    # Development defaults
    .env.production     # Production defaults
    ```
  </Tab>
  <Tab value="Express">
    ```bash
    .env                # Local development (never commit)
    .env.example        # Template for other developers
    ```
  </Tab>
  <Tab value="React + Vite">
    ```bash
    .env.local          # Local development (never commit)
    .env.development    # Development defaults
    .env.production     # Production defaults
    ```
  </Tab>
</Tabs>

<Callout type="warn">
  **Never commit `.env.local` or `.env` files!** They're automatically added to `.gitignore`.
</Callout>

## Common Variables

### Database

```bash title=".env.local"
# PostgreSQL
DATABASE_URL="postgresql://user:password@localhost:5432/mydb"

# MongoDB
DATABASE_URL="mongodb://localhost:27017/mydb"
```

### Authentication (Better Auth)

```bash title=".env.local"
BETTER_AUTH_SECRET="your-32-character-secret-key"
BETTER_AUTH_URL="http://localhost:3000"

# OAuth Providers (optional)
GITHUB_CLIENT_ID="your_github_client_id"
GITHUB_CLIENT_SECRET="your_github_client_secret"

GOOGLE_CLIENT_ID="your_google_client_id"
GOOGLE_CLIENT_SECRET="your_google_client_secret"
```

### Authentication (Clerk)

```bash title=".env.local"
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_..."
CLERK_SECRET_KEY="sk_test_..."
```

## Accessing Variables

### Next.js

```typescript
// Server-side (API routes, Server Components)
const dbUrl = process.env.DATABASE_URL;

// Client-side (must be prefixed with NEXT_PUBLIC_)
const apiUrl = process.env.NEXT_PUBLIC_API_URL;
```

### Express

```typescript
// All variables available via process.env
const dbUrl = process.env.DATABASE_URL;
const port = process.env.PORT || 3000;
```

### React + Vite

```typescript
// Must be prefixed with VITE_
const apiUrl = import.meta.env.VITE_API_URL;
```

## Generating Secrets

Generate secure secrets for authentication:

```bash
# Using OpenSSL
openssl rand -base64 32

# Using Node.js
node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
```

## Production Deployment

Set environment variables in your hosting platform:

- **Vercel**: Project Settings → Environment Variables
- **Netlify**: Site Settings → Environment Variables
- **Railway**: Variables tab in your service
- **Docker**: Pass via `-e` flag or docker-compose

<Callout type="info">
  Most platforms support different variables for Production, Preview, and Development environments.
</Callout>

## Best Practices

1. **Never commit secrets** - Use `.gitignore`
2. **Use `.env.example`** - Template for other developers
3. **Document required variables** - In README.md
4. **Different secrets per environment** - Don't reuse production secrets in development
5. **Rotate secrets regularly** - Especially after team changes

## Troubleshooting

### Variables Not Loading

Make sure:

- File is named correctly (`.env.local` not `.env.local.txt`)
- Variables are in correct format (`KEY=value`, no spaces around `=`)
- You've restarted the dev server after changes
- Variables are prefixed correctly for client-side use

### NEXT*PUBLIC* Not Working

Client-side variables must be set at **build time**, not runtime. Rebuild your app after changing them.
