{
  "name": "authjs",
  "type": "auth",
  "priority": 10,
  "operations": [
    {
      "type": "create-file",
      "source": "shared/lib/auth.ts",
      "destination": "server/auth/auth.ts"
    },
    {
      "type": "create-file",
      "source": "nextjs/api/auth/[...nextauth]/route.ts",
      "destination": "app/api/auth/[...nextauth]/route.ts"
    },
    {
      "type": "create-file",
      "source": "nextjs/proxy.ts",
      "destination": "proxy.ts"
    },
    {
      "type": "patch-file",
      "destination": "prisma/schema.prisma",
      "condition": { "database": "prisma" },
      "operations": [
        {
          "type": "add-to-bottom",
          "source": "shared/prisma/schema.prisma"
        }
      ]
    },
    {
      "type": "add-dependency",
      "condition": { "database": "prisma" },
      "dependencies": {
        "@auth/prisma-adapter": "^2.11.1"
      }
    },
    {
      "type": "add-env",
      "envVars": {
        "AUTH_SECRET": "",
        "AUTH_GOOGLE_ID": "",
        "AUTH_GOOGLE_SECRET": "",
        "EMAIL_HOST": "smtp.gmail.com",
        "EMAIL_PORT": "587",
        "EMAIL_USER": "",
        "EMAIL_PASS": "",
        "EMAIL_FROM": "noreply@yourapp.com"
      }
    },
    {
      "type": "add-dependency",
      "dependencies": {
        "next-auth": "^5.0.0-beta.30",
        "bcryptjs": "^3.0.3",
        "nodemailer": "^7.0.12"
      },
      "devDependencies": {
        "@types/nodemailer": "^7.0.5"
      }
    }
  ]
}
