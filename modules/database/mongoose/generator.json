{
  "name": "mongoose",
  "type": "database",
  "priority": 5,
  "operations": [
    {
      "type": "create-file",
      "source": "lib/mongoose.ts",
      "destination": "lib/mongoose.ts"
    },
    {
      "type": "create-file",
      "source": "models/health.ts",
      "destination": "models/health.ts"
    },
    {
      "type": "patch-file",
      "destination": "src/server.ts",
      "condition": { "framework": "express" },
      "operations": [
        {
          "type": "add-import",
          "imports": ["import { mongoose } from \"./mongoose\";"]
        },
        {
          "type": "add-code",
          "after": "async function startServer() {",
          "code": "await mongoose();"
        }
      ]
    },
    {
      "type": "add-env",
      "envVars": {
        "MONGODB_URI": "mongodb://localhost:27017/database_name"
      }
    }
  ],
  "dependencies": {
    "mongoose": "^8.8.0"
  },
  "devDependencies": {}
}