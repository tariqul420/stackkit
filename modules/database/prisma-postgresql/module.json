{
  "name": "prisma-postgresql",
  "displayName": "Prisma + PostgreSQL",
  "description": "Prisma ORM with PostgreSQL database",
  "category": "database",
  "provider": "prisma",
  "database": "postgresql",
  "supportedFrameworks": ["nextjs", "express"],
  "dependencies": {
    "@prisma/client": "^6.1.0"
  },
  "devDependencies": {
    "prisma": "^6.1.0"
  },
  "envVars": [
    {
      "key": "DATABASE_URL",
      "value": "postgresql://user:password@localhost:5432/mydb?schema=public",
      "description": "PostgreSQL database connection URL",
      "required": true
    }
  ],
  "frameworkPatches": {
    "express": {
      "tsconfig.json": {
        "merge": {
          "compilerOptions": {
            "paths": {
              "@/*": ["./src/*"]
            }
          },
          "include": ["src/**/*"],
          "exclude": ["node_modules", "dist", "prisma/migrations"]
        }
      }
    },
    "nextjs": {
      "tsconfig.json": {
        "merge": {
          "exclude": ["node_modules", ".next", "out", "prisma/migrations"]
        }
      }
    }
  },
  "patches": [
    {
      "type": "create-file",
      "description": "Create Prisma schema",
      "source": "files/prisma/schema.prisma",
      "destination": "prisma/schema.prisma"
    },
    {
      "type": "create-file",
      "description": "Create Prisma client singleton",
      "source": "files/lib/db.ts",
      "destination": "{{lib}}/db.ts"
    }
  ],
  "postInstall": ["npx prisma generate"]
}
