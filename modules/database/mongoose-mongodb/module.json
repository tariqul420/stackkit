{
  "name": "mongoose-mongodb",
  "displayName": "Mongoose + MongoDB",
  "description": "Mongoose ODM for MongoDB database",
  "category": "database",
  "provider": "mongoose",
  "database": "mongodb",
  "supportedFrameworks": ["nextjs", "express"],
  "dependencies": {
    "mongoose": "^8.8.4",
    "mongodb": "^6.10.0",
    "dotenv": "^17.2.3"
  },
  "devDependencies": {
    "@types/mongoose": "^5.11.97"
  },
  "envVars": {
    "common": [
      {
        "key": "DATABASE_URL",
        "value": "mongodb://localhost:27017/myapp",
        "description": "MongoDB connection string",
        "required": true
      }
    ]
  },
  "frameworkPatches": {
    "express": {
      "tsconfig.json": {
        "merge": {
          "compilerOptions": {
            "baseUrl": ".",
            "paths": {
              "@/*": ["./*"]
            }
          },
          "include": ["src/**/*", "lib/**/*"],
          "exclude": ["node_modules", "dist"]
        }
      }
    },
    "nextjs": {
      "tsconfig.json": {
        "merge": {
          "compilerOptions": {
            "baseUrl": ".",
            "paths": {
              "@/*": ["./*"]
            }
          },
          "include": ["lib/**/*"],
          "exclude": ["node_modules", ".next", "out"]
        }
      }
    }
  },
  "patches": [
    {
      "type": "create-file",
      "description": "{{dbDescription}}",
      "source": "lib/{{dbFile}}",
      "destination": "{{lib}}/{{dbFile}}"
    },
    {
      "type": "create-file",
      "description": "Create sample User model",
      "source": "models/User.ts",
      "destination": "{{models}}/User.ts"
    }
  ]
}
